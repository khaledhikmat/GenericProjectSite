<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{ page.title }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Generic : Generic Site Project" />
  <meta name="author" content="Khaled Hikmat">

    <!-- BOOTSTRAP stuff -->
	<link href="{{ site.baseurl }}/libraries/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="{{ site.baseurl }}/libraries/bootstrap/css/style.css" rel="stylesheet">

    <!-- HIGHSLIDE stuff -->
	<link href="{{ site.baseurl }}/libraries/highslide/highslide.css" rel="stylesheet"/>

    <!-- MY APP stuff -->
	<link href="{{ site.baseurl }}/stylesheets/app.css" rel="stylesheet">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
  <![endif]-->

  <!-- Fav and touch icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="{{ site.baseurl }}/libraries/bootstrap/img/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="{{ site.baseurl }}/libraries/bootstrap/img/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="{{ site.baseurl }}/libraries/bootstrap/img/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="{{ site.baseurl }}/libraries/bootstrap/img/apple-touch-icon-57-precomposed.png">
  <link rel="shortcut icon" href="{{ site.baseurl }}/libraries/bootstrap/img/favicon.png">
  
	<script type="text/javascript" src="{{ site.baseurl }}/libraries/bootstrap/js/jquery.min.js"></script>
	<script type="text/javascript" src="{{ site.baseurl }}/libraries/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="{{ site.baseurl }}/libraries/bootstrap/js/scripts.js"></script>
	<script type="text/javascript" src="{{ site.baseurl }}/libraries/highslide/highslide-with-gallery.js"></script>
</head>

<!-- DISCUSS stuff -->
 <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = '<add-your-own>'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
	
<!-- HIGHSLIDE stuff -->
<script type="text/javascript">
hs.graphicsDir = '{{ site.baseurl }}/libraries/highslide/graphics/';
hs.align = 'center';
hs.transitions = ['expand', 'crossfade'];
hs.outlineType = 'glossy-dark';
hs.wrapperClassName = 'dark';
hs.fadeInOut = true;
//hs.dimmingOpacity = 0.75;

// Add the controlbar
if (hs.addSlideshow) hs.addSlideshow({
	//slideshowGroup: 'group1',
	interval: 5000,
	repeat: false,
	useControls: true,
	fixedControls: 'fit',
	overlayOptions: {
		opacity: .6,
		position: 'bottom center',
		hideOnMouseOut: true
	}
});
</script>

<!-- My APP Stuff -->
<!-- TODO: Move to a script file -->
<script type="text/javascript">
function setCookie(cname,cvalue,exdays) {
	var d = new Date();
	d.setTime(d.getTime()+(exdays*24*60*60*1000));
	var expires = "expires="+d.toGMTString();
	document.cookie = cname + "=" + cvalue + "; " + expires;
}

function getCookie(cname) {
	var name = cname + "=";
	var ca = document.cookie.split(';');
	for(var i=0; i<ca.length; i++) {
	  var c = ca[i].trim();
	  if (c.indexOf(name)==0) return c.substring(name.length,c.length);
	}

	return "";
}

function isCookie(cname) {
	var mycookie=getCookie(cname);
	if (mycookie != "") 
		return true;
	else
		return false;
}

function maskPage () {
	$('#mask').show();
}

function unmaskPage () {
	$('#mask').hide();
}

function validateCredentials (uid, pwd) {
	if (uid == 'generic' && pwd == 'site') {
		// TODO: Create a cookie
		setCookie('{{ site.name }}', uid, 2);
	}
}

function isValidCredentails () {
	return isCookie('{{ site.name }}');
}

function checkCredentials () {
	if (isValidCredentails()) {
		console.log('checkCredentials: hiding');
		$('#siteLoginDlg').modal().hide();
		unmaskPage(); 
	} else {
		console.log('checkCredentials: showing');
		maskPage();
		$('#siteLoginDlg').modal().show();
	}
}
</script>

<body>
<div id="mask"></div>

<div class="modal fade" id="siteLoginDlg" role="dialog" aria-labelledby="siteLoginDlgLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title" id="siteLoginDlgLabel">
					Please sign in to use {{ site.name }}
				</h4>
			</div>
			<div class="modal-body">
				<form role="form">
					<div class="form-group">
						 <label for="siteLoginDlgUserId">User Id</label><input class="form-control" id="siteLoginDlgUserId" type="text" />
					</div>
					<div class="form-group">
						 <label for="siteLoginDlgPassword">Password</label><input class="form-control" id="siteLoginDlgPassword" type="password" />
					</div>
					<button id="siteLoginDlgSubmit" type="submit" class="btn btn-default">Submit</button>
				</form>
			</div>
			<div class="modal-footer">
			<!-- add something here -->
			</div>
		</div>
	</div>
</div>

<div class="container">
	<div class="row clearfix">
		<div class="col-md-12 column">
			<div class="masthead">
			<img src="http://placehold.it/1140x150"/>
			</div>
			<nav class="navbar navbar-default navbar-inverse" role="navigation">
				<div class="navbar-header">
					 <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button> <a class="navbar-brand" href="{{ site.baseurl }}/index.html">{{ page.project }}</a>
				</div>
				
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
					<ul class="nav navbar-nav">
						<li {% if page.title == 'HOME' %} class='active' {% endif %}><a href="{{ site.baseurl }}/index.html">HOME</a></li>
						<li {% if page.title == 'ITERATIONS' %} class='active' {% endif %}><a href="{{ site.baseurl }}/iterations.html">ITERTATIONS</a></li>
						<li {% if page.title == 'ABOUT' %} class='active' {% endif %}><a href="{{ site.baseurl }}/about.html">ABOUT</a></li>
					</ul>
					</ul>
				</div>
			</nav>

			<blockquote>
				<p>
					{{ page.project }}
				</p> 
				<small>{{ page.tagline }}</small>
			</blockquote>
		</div>
	</div>
	{{ content }}
</div>
<!-- Enforce the password on every page -->
{% include enforce-password.html %}
</body>
</html>
